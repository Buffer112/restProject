# Тестовое задание.
## Задание - бронирование мест в кинотеаторе

## Структура приложения
### Сущности:
**cinema_table** - таблица с кинотеаторами  
    *id* - идендификатор кинотеатра (первичный ключ)  
    *name* - название кинотеатра  
**hall_table** - таблица залов  
    *id* - идендификатор зала (первичный ключ)  
    *name* - название зала  
    *cinema_id* - идендификатор кинотеатра к которому принадлежит зал (внешний ключ)  
**place_table** - таблица мест в залах  
    *num* - номер места (первичный ключ в связке с hall_id)  
    *hall_id* - идендификатор зала (внешний ключ)  
  
### Контроллер:
**CinemaRestController** - управляет всеми запросами  
*Запросы*:  
*localhost:8080/cinema* - возвращает все кинотеатры  
*localhost:8080/cinema/{cinemaId}* - возвращает все залы в кинотеатре с идендификатором cinemaId  
*localhost:8080/cinema/place/{hallId}* - возвращает все места в зале с идендификатором hallId  
*localhost:8080/cinema/place/{hallId}/{listNum}* - бронирует место в hallId под номером listNum  
### Сервис:
**DataBaseService** - выполняет запросы к базе данных испульзуя jdbc  
*Методы*:  
*queryGetAllCinema* - делает запрос к базе данных и возвращает все кинотеатры  
*queryGetAllHalls* - делает запрос к базе данных и возвращает все залы в кинотеатре с идендификатором cinemaId  
*queryGetAllPlace* - делает запрос к базе данных и возвращает все места в зале с идендификатором hallId  
*querySetPlace* - делает запрос к базе данных и бронирует место в hallId под номером listNum  
### Модели:  
**Cinema** - дата класс соответствующий сущности *cinema_table*  
**Hall** - дата класс соответствующий сущности *hall_table*  
**Place** - дата класс соответствующий сущности *place_table*  
### Тесты:  
**CinemaRestControllerTest** - тестирует методы контроллера *CinemaRestController*  
**DatabaseServiceTest** - тестирует методы сервиса *DataBaseService*  
## Этапы разработки приложения  
### Старт
Изначально база данных и сервер были созданы с помощью приложения pgAdmin.  
После с помощью приложения DataGrip были созданы и настроены все сущности.  
Вся остальная работа велась в IntellIJ IDEA  
Операционная система - Ubuntu 20.10
### Развертывание
